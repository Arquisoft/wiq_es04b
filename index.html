<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.22">
<title>WIQ es04b</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/wiq-logo.png" alt="wiq-image"></span> WIQ es04b</h1>
<div class="details">
<span id="revnumber">version 2,</span>
<span id="revdate">March 2024</span>
<br><span id="revremark">ASW - wiq_es04b</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a></li>
<li><a href="#section-system-scope-and-context">3. System Scope and Context</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_technological_decisions">4.1. Technological Decisions</a></li>
<li><a href="#_system_decomposition">4.2. System Decomposition</a></li>
<li><a href="#_organizational_decisions">4.3. Organizational Decisions</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_whitebox_overall_system">5.1. Whitebox Overall System</a></li>
<li><a href="#_level_2">5.2. Level 2</a></li>
<li><a href="#_level_3">5.3. Level 3</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_user_authentication">6.1. User Authentication</a></li>
<li><a href="#_question_generation">6.2. Question Generation</a></li>
<li><a href="#_user_responds_to_a_question">6.3. User Responds to a Question</a></li>
<li><a href="#_user_checks_their_history">6.4. User Checks their History</a></li>
<li><a href="#_access_to_user_information_via_an_api">6.5. Access to User Information via an API</a></li>
<li><a href="#_access_to_generated_questions_information_via_an_api">6.6. Access to Generated Questions Information via an API</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
<li><a href="#_infrastructure_level_2">7.2. Infrastructure Level 2</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_domain_model">8.1. Domain Model</a></li>
<li><a href="#_hexagonal_architecture">8.2. Hexagonal Architecture</a></li>
<li><a href="#_java_persistence_api_jpa_for_data_management">8.3. Java Persistence API (JPA) for Data Management</a></li>
<li><a href="#_logging_with_slf4j_and_system_out">8.4. Logging with Slf4j and System.out</a></li>
<li><a href="#_security">8.5. Security</a></li>
<li><a href="#_performance_optimization">8.6. Performance Optimization</a></li>
<li><a href="#_continuous_integration_and_continuous_deployment_cicd">8.7. Continuous Integration and Continuous Deployment (CI/CD)</a></li>
<li><a href="#_scalability">8.8. Scalability</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a></li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a></li>
<li><a href="#section-glossary">12. Glossary</a></li>
<li><a href="#section-question-generation-strategy">13. Question Generation Strategy</a>
<ul class="sectlevel2">
<li><a href="#_question_templates">13.1. Question templates</a></li>
<li><a href="#_example_of_a_query">13.2. Example of a query</a></li>
<li><a href="#_question_generation_process">13.3. Question Generation Process</a></li>
</ul>
</li>
<li><a href="#section-testing">14. Testing</a>
<ul class="sectlevel2">
<li><a href="#_unit_test">14.1. Unit Test</a></li>
<li><a href="#_integration_test_e2e">14.2. Integration Test (E2E)</a></li>
<li><a href="#_load_test">14.3. Load Test</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}

img[alt="wiq-image"] {
    width: 100px;
    height: auto;
}
</style>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This web application, inspired by the famous Spanish TV show "Saber y ganar," consists of a mini-game of questions and answers.
In this game, the player is asked a question and presented with four possible answers, of which only one is correct.</p>
</div>
<div class="paragraph">
<p>For all those "Saber y ganar" viewers who wanted to participate in the show, this application is ideal for testing their knowledge.</p>
</div>
<div class="paragraph">
<p>The application automatically generates questions with the help of Wikidata (the page that supports Wikipedia and many other wikis)
to constantly update the questions instead of storing them in a database.</p>
</div>
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements overview</h3>
<div class="paragraph">
<p>The requirements of the application are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The player must register with a name and be able to see his personal score and the ranking of the best players.</p>
</li>
<li>
<p>Automatically generate questions from Wikidata.</p>
</li>
<li>
<p>The player must answer the question within a time limit.</p>
</li>
<li>
<p>If the player does not answer, it will be counted as an incorrect response.</p>
</li>
<li>
<p>Each correct answer earns points.</p>
</li>
<li>
<p>Optionally, the score can be saved in a ranking.</p>
</li>
<li>
<p>Offer and API to access the questions and answers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The overall goal of the application is to provide a fun and challenging experience for the user, while also providing a way to test their knowledge.</p>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">NÂº</th>
<th class="tableblock halign-left valign-top">Atributo</th>
<th class="tableblock halign-left valign-top">Motivacion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Efficiency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access, creation of questions, and navigation between them should be fast to ensure user satisfaction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application should be appealing to all fans of the original program while also offering a wide variety of questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manteinance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application should ensure easy expansion and modification to provide users with new features.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Our goal is to achieve at least 95% availability, ensuring that the system is always available for users to play.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsiveness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must be responsive, providing a good user experience for those in desktop and mobile environments.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HappySw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A company developing the application aiming to earn money through its development and recognition at the Spanish level.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RTVE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Spanish television network that hired the development to promote its program.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uniovi students</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application developers who want to pass the subject.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ArquiSoft  teachers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The evaluators of the program development and final version who want their students to pass.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Mandatory Usage of WikiData API:</strong>
The WikiData API must be utilized as an integral part of the system, and interactions with WikiData are obligatory for data retrieval and integration.</p>
</li>
<li>
<p><strong>Web Frontend Requirement:</strong>
The system must include at least one web frontend, and it is mandatory for deployment.</p>
</li>
<li>
<p><strong>Users log in and game history:</strong>
The users will be able to register in the system and consult their participation history in the system.</p>
</li>
<li>
<p><strong>Limited time in questions:</strong>
The questions must have a limited time to be responded.</p>
</li>
<li>
<p><strong>Questions must have 4 posible answers</strong>
Each question will have one correct answer and several incorrect answers. Both the correct and incorrect answers will be generated automatically.</p>
</li>
<li>
<p><strong>System API:</strong>
System will allow accessing user information and the information of the generated questions through an API.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-system-scope-and-context">3. System Scope and Context</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Deployment%20diagram.png" alt="Deployment diagram" width="509" height="594">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Player:</strong> Represents users who interact with the application to play games or view their history.</p>
</li>
<li>
<p><strong>System (QuestionGame):</strong> The main system that hosts the game logic and manages user interactions.</p>
</li>
<li>
<p><strong>WikiData:</strong> Component used to retrieve data from Wikidata and automatically generate questions.</p>
</li>
<li>
<p><strong>Database:</strong> Stores system information, such as user data, generated questions, game history, etc.</p>
</li>
<li>
<p><strong>External Developers:</strong> Represents developers who access the system&#8217;s REST API to retrieve player and question data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Technical%20Context%20Diagram.png" alt="Technical Context Diagram" width="263" height="464">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User Agent:</strong> Represents the web or mobile interface used by users.</p>
</li>
<li>
<p><strong>QuestionGame server:</strong> The server-side components, including the Frontend, QuestionGame logic, User&#8217;s API, and Question&#8217;s API.</p>
</li>
<li>
<p><strong>HTTPS:</strong> Represents the communication channels, with HTTPS being the protocol used for secure communication.</p>
</li>
<li>
<p><strong>Question Generation:</strong> Represents the means used for question and answers generation.</p>
</li>
<li>
<p><strong>Database:</strong> Represents whichever system used for data persistence.</p>
</li>
<li>
<p><strong>To be decided:</strong> Indicates that specific details about the channels and protocols are yet to be determined.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_inputoutput_mapping_table">3.2.1. Input/Output Mapping Table</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Input/Output</th>
<th class="tableblock halign-left valign-top">Channel/Protocol</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User&#8217;s API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User registration, game history</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question&#8217;s API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question data retrieval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Frontend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User interactions, game display</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User data, game history, questions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specific database driver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data for question generation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technological_decisions">4.1. Technological Decisions</h3>
<div class="ulist">
<ul>
<li>
<p>Programming Language: Java will be used for system development because all team members are familiar with it, and we believe we can perform better using this language.</p>
</li>
<li>
<p>Frontend Framework: SpringBoot will be adopted for frontend development because it allows us to deploy a web application using Java and provides numerous functionalities that greatly facilitate the implementation of project requirements, such as user authentication.</p>
</li>
<li>
<p>Database: A relational database will be used. HSQLDB for local tests and MySQL for production were selected as the storages engines due to the modeled entities having a strong, fixed structure and the multiple relationships between them. Besides that, the team has experience with these databases and will allow an easier flow of development.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_system_decomposition">4.2. System Decomposition</h3>
<div class="paragraph">
<p>The Model-View-Controler architecture pattern will be followed for structuring the system, dividing it into modules/classes responsible for the managment of the players, questions, answers and game, and the views of the frontend.</p>
</div>
</div>
<div class="sect2">
<h3 id="_organizational_decisions">4.3. Organizational Decisions</h3>
<div class="paragraph">
<p>Development Methodology: GitFlow will be adopted for project management, facilitating collaboration and iterative delivery.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default branch: <a href="https://github.com/Arquisoft/wiq_es04b/tree/master">master</a>. This branch will only be used to create new releases and will contain the most stable version of the system.</p>
</li>
<li>
<p>The development branch: <a href="https://github.com/Arquisoft/wiq_es04b/tree/develop">develop</a>. This branch will be used to integrate the features developed by the team and will be the basis for creating new releases. This will have the largest commit amount, and will also have a stable version that could be deployed at any time.</p>
</li>
<li>
<p>Feature branches: These branches will be used to develop new features, and will be created from the develop branch. After the feature is developed, it will be merged into the develop branch and branch can be deleted, although we will not usually delete branches.</p>
</li>
<li>
<p>Fix branches: These branches will be used to fix bugs, and will be created from the develop branch. After the bug is fixed, it will be merged into the develop branch and branch can be deleted, although we will not usually delete branches.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Building Block View elaborates on the static structure of the system. It decomposes the system into building blocks like modules, components, subsystems, and others, detailing their responsibilities and relationships.</p>
</div>
<div class="sect2">
<h3 id="_whitebox_overall_system">5.1. Whitebox Overall System</h3>
<div class="paragraph">
<p>This section provides an overview of the main components of the system and their interactions. The core of the system is the WIQ (QuestionGame) component, which interfaces with Users, Wikidata for question generation, a Database for persistence, and offers a REST API for External Developers.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Whitebox-overall.png" alt="Whitebox overall" width="808" height="416">
</div>
</div>
<div class="sect3">
<h4 id="_motivation">5.1.1. Motivation</h4>
<div class="paragraph">
<p>The decomposition provides a clear, high-level overview of how the WIQ system interacts with users, external services (Wikidata), stores data (Database), and interfaces with external developers through the REST API. This modularity supports scalability and maintainability.</p>
</div>
</div>
<div class="sect3">
<h4 id="_contained_building_blocks">5.1.2. Contained Building Blocks</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the end users of the WIQ application, interacting with the system to play games and view their history.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WIQ (QuestionGame)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The central component that manages gameplay logic, user interactions, and integrates external data for question generation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wikidata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An external service utilized by the WIQ system to retrieve data for dynamically generating quiz questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintains persistent storage for user data, game history, and generated questions, ensuring data integrity and availability.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Developers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developers or systems that interact with the WIQ system via the REST API to access or modify player and question data.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_level_2">5.2. Level 2</h3>
<div class="paragraph">
<p>For Level 2 of the Building Block View, the WIQ (QuestionGame) system is further decomposed into four primary components that define its operational structure. Each component is designed to fulfill specific roles within the architecture, ensuring the system&#8217;s functionality and responsiveness to user interactions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>GameService:</strong> This component acts as the core of the QuestionGame, orchestrating the flow of games, managing question selection, enforcing game rules, and tracking scores. It ensures that gameplay proceeds smoothly and according to the predefined logic, offering a seamless experience for the user.</p>
</li>
<li>
<p><strong>PlayerService:</strong> Responsible for handling user accounts, this component manages registration, authentication, and profile management. It safeguards user data while providing a personalized experience through game history tracking and preference settings.</p>
</li>
<li>
<p><strong>QuestionService:</strong> This component interacts directly with the Wikidata service to fetch data for question generation. It processes and curates content to produce relevant, challenging questions for the game, thereby ensuring a varied and educational experience.</p>
</li>
<li>
<p><strong>RestApiService:</strong> Serving as the gateway for external developers, this component exposes a set of RESTful APIs that allow access to player information and question data. It handles request processing, authentication, and data delivery, facilitating third-party integrations and extensions of the WIQ platform.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/level2.png" alt="level2" width="432" height="517">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_3">5.3. Level 3</h3>
<div class="paragraph">
<p>In Level 3, we take a closer look at the API Management component, breaking it down into two essential services: the Player Information API and the Question Information API. These services are fundamental to the system&#8217;s ability to interact with external applications, providing necessary functionalities with a focus on usability and security.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Player Information API:</strong> This API serves as the gateway for external applications to access and manage player data. It allows for operations such as retrieving player profiles, updating personal information, and viewing game history. The design prioritizes data security, ensuring safe and secure access to sensitive information. The interface is straightforward, designed for ease of use while maintaining comprehensive functionality.</p>
</li>
<li>
<p><strong>Question Information API:</strong> Dedicated to the dynamic world of quiz questions, this API facilitates the retrieval of questions and submission of answers. It stands as a bridge between the system&#8217;s vast question repository and external applications, enabling a seamless flow of information. The API adheres to clear and logical request and response structures, ensuring efficient and effective communication. Security measures are in place to protect the integrity of the question data and the fairness of the game.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This level of documentation provides a structured and clear view of the system&#8217;s architecture, particularly focusing on its integration points. By balancing formal language with accessibility, we aim to communicate effectively with a broad audience of stakeholders, ensuring understanding and transparency in the system&#8217;s design.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/level3.png" alt="level3" width="509" height="114">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_user_authentication">6.1. User Authentication</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%201.png" alt="Sequence diagram 1" width="509" height="355">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_question_generation">6.2. Question Generation</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%202.png" alt="Sequence diagram 2" width="778" height="427">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_user_responds_to_a_question">6.3. User Responds to a Question</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%203.png" alt="Sequence diagram 3" width="460" height="368">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_user_checks_their_history">6.4. User Checks their History</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%204.png" alt="Sequence diagram 4" width="433" height="326">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_access_to_user_information_via_an_api">6.5. Access to User Information via an API</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%205.png" alt="Sequence diagram 5" width="635" height="385">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_access_to_generated_questions_information_via_an_api">6.6. Access to Generated Questions Information via an API</h3>
<div class="imageblock">
<div class="content">
<img src="./images/Sequence%20diagram%206.png" alt="Sequence diagram 6" width="754" height="385">
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The deployment strategy for our game, which leverages the Wikidata API to dynamically generate questions, is built around a Docker-based infrastructure. This approach allows for the encapsulation of our Java Spring Boot application within a Docker container, simplifying deployments across different environments (development, testing, and production) while ensuring consistency and isolation.</p>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="paragraph">
<p>Our application is containerized using Docker, enabling us to deploy the entire stack as a single <code>.jar</code> file that includes the web server. This method ensures that our application can be easily moved across environments or scaled up as needed without significant changes to the infrastructure.</p>
</div>
<div class="paragraph">
<p><em><strong>Overview Diagram:</strong></em>
The infrastructure features a single Docker container that hosts the Java Spring Boot application. This container communicates with external services, such as the Wikidata API, to fetch data in real-time and generate game questions.</p>
</div>
<div class="paragraph">
<div class="title">Motivation</div>
<p>The primary motivation behind using Docker for deployment is to streamline the development and deployment processes. By containerizing the application, we reduce discrepancies between environments, making it easier to develop, test, and deploy with confidence.</p>
</div>
<div class="ulist">
<div class="title">Quality and/or Performance Features</div>
<ul>
<li>
<p><strong>Portability:</strong> Docker containers can run on any system that has Docker installed, reducing environment-specific bugs.</p>
</li>
<li>
<p><strong>Scalability:</strong> While we start with a single container, the setup can be easily scaled using Docker Compose or Docker Swarm if the need arises.</p>
</li>
<li>
<p><strong>Efficiency:</strong> Docker utilizes resources more efficiently than traditional VMs, allowing for faster startup times and lower overhead.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Mapping of Building Blocks to Infrastructure</div>
<ul>
<li>
<p><strong>Web Server/Application (.jar file):</strong> Packaged within a Docker container, it includes all necessary dependencies to run independently across any Docker-supported platform.</p>
</li>
<li>
<p><strong>External APIs (e.g., Wikidata API):</strong> Accessed over the network, these APIs provide dynamic content for the game.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_2">7.2. Infrastructure Level 2</h3>
<div class="paragraph">
<p>At this level, we describe the Docker container configuration that encapsulates our application.</p>
</div>
<div class="sect3">
<h4 id="_docker_container">7.2.1. <em>Docker Container</em></h4>
<div class="paragraph">
<p>Our app&#8217;s Docker container is built from a Java base image, which is then layered with our applicationâs <code>.jar</code> file.</p>
</div>
<div class="paragraph">
<p>In addition to the Spring boot standalone file, we also use the official <code>MySQL</code> server docker container image brought by DockerHub. This is our database server and it is used to store the game data, such as user scores, questions, etc. and all the other persistent data.</p>
</div>
<div class="paragraph">
<p>This setup encapsulates the entire runtime environment required for our application, and does not require extensive configuration.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/Docker%20Container%20Setup.png" alt="Docker Container Setup" width="675" height="319">
</div>
<div class="title">Figure 1. Diagram: Docker Container Setup</div>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>This diagram illustrates the internal structure of our Docker containers structure. It shows the Java Spring Boot application, including the embedded web server, packaged as a <code>.jar</code> file and the MySQL server. The application interacts with external APIs, like the Wikidata API, to retrieve data necessary for generating game questions. The containerized approach ensures that the application can be deployed consistently across any environment that supports Docker.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following concepts provide a foundation for the design and implementation of the trivia game project, which utilizes the Wikidata API for dynamic question generation and employs a hexagonal architecture for its Java Spring Boot application.</p>
</div>
<div class="sect2">
<h3 id="_domain_model">8.1. Domain Model</h3>
<div class="paragraph">
<p>The domain model for our game includes entities such as <a href="https://github.com/Arquisoft/wiq_es04b/blob/master/src/main/java/com/uniovi/entities/Question.java">Question</a>, <a href="https://github.com/Arquisoft/wiq_es04b/blob/master/src/main/java/com/uniovi/entities/Category.java">Category</a>, <a href="https://github.com/Arquisoft/wiq_es04b/blob/master/src/main/java/com/uniovi/entities/Player.java">Player</a>, <a href="https://github.com/Arquisoft/wiq_es04b/blob/master/src/main/java/com/uniovi/entities/Role.java">Role</a>, or <a href="https://github.com/Arquisoft/wiq_es04b/blob/master/src/main/java/com/uniovi/entities/GameSession.java">GameSession</a>. These are crucial for representing the game&#8217;s data and logic. The model serves as the basis for interactions within the application and between the application and the database.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/Arquisoft/wiq_es04b/tree/master/src/main/java/com/uniovi/entities">Source code</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/domain-model.svg" alt="domain model" width="1131" height="1203">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_hexagonal_architecture">8.2. Hexagonal Architecture</h3>
<div class="paragraph">
<p>Our application is structured using hexagonal architecture principles, which prioritize the separation of core logic from peripheral concerns like user interface and external API interactions.</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>This architecture facilitates the creation of a flexible and maintainable codebase. It allows for easy adaptation to changes in external services or user interface technologies without impacting the application&#8217;s core logic.</p>
</div>
</div>
<div class="sect2">
<h3 id="_java_persistence_api_jpa_for_data_management">8.3. Java Persistence API (JPA) for Data Management</h3>
<div class="paragraph">
<p>We use JPA for data persistence to abstract and handle all database operations, allowing for a more streamlined and object-oriented approach to data handling.</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>JPA enables us to map our domain objects to the database schema with ease, providing a clear layer of abstraction that simplifies data persistence and retrieval while ensuring our application remains agnostic of the underlying database technology.</p>
</div>
</div>
<div class="sect2">
<h3 id="_logging_with_slf4j_and_system_out">8.4. Logging with Slf4j and System.out</h3>
<div class="paragraph">
<p>For monitoring runtime behavior and troubleshooting, the project utilizes Slf4j, bundled with Sprint Boot, and System.out for logging. While Slf4j offers more sophisticated logging capabilities, System.out is used for straightforward, immediate console output.</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>Slf4j is configured to capture various levels of output, which can be directed to multiple destinations such as console, files, or even remote logging servers. For simplicity and immediacy during development or less complex deployment scenarios, System.out is employed for logging output directly to the console.</p>
</div>
</div>
<div class="sect2">
<h3 id="_security">8.5. Security</h3>
<div class="paragraph">
<p>Security is a key concern, ensuring that user data and game integrity are protected. We implement standard security practices at various levels within the application</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>This includes securing the web layer with Spring Security, encrypting sensitive data, and protecting against common web vulnerabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="_performance_optimization">8.6. Performance Optimization</h3>
<div class="paragraph">
<p>Performance optimization is considered in all aspects of the application, from the efficient design of the domain model to the configuration of the persistence layer.</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>We ensure that database interactions are efficient through JPA&#8217;s caching and lazy loading. Queries are optimized to fetch only the necessary data, minimizing response times and resource utilization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_continuous_integration_and_continuous_deployment_cicd">8.7. Continuous Integration and Continuous Deployment (CI/CD)</h3>
<div class="paragraph">
<p>The project adheres to CI/CD practices, facilitating automated testing, building, and deployment processes which contribute to the robustness and reliability of the application.</p>
</div>
<div class="paragraph">
<div class="title">Explanation:</div>
<p>Our CI/CD pipeline automates the process of integrating code changes, building the application, running tests, and deploying the Dockerized application, ensuring consistent and reliable delivery of updates.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scalability">8.8. Scalability</h3>
<div class="paragraph">
<p>Designing for scalability, the application can accommodate an increasing number of users and interactions without performance degradation.
.Explanation:
Scalable solutions such as Docker containers allow the application to be deployed in a distributed environment, where resources can be adjusted based on demand.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The purpose of this section is to create an ordered list of architectural decisions that we will make as we develop the project. This list will be ordered according to the importance of the decision.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#protection-of-the-master-branch">ADR 01</a> - Protection of the master branch</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#switch-from-javascript-to-java-with-springboot">ADR 02</a> - Switch from JavaScript to Java with Spring</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#mvc-pattern">ADR 03</a> - MVC Pattern</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#hexagonal-architecture">ADR 04</a> - Hexagonal architecture</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#dto-pattern">ADR 05</a> - DTO Pattern</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#mysql-in-production-and-hsqldb-in-local">ADR 06</a> - MySQL in production and HSQLDB in local</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#monolithic-architecture">ADR 07</a> - Monolithic architecture</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#use-of-tbd">ADR 08</a> - Use of TBD</p>
</li>
<li>
<p><a href="https://github.com/Arquisoft/wiq_es04b/wiki/Record-of-architectural-decisions#questions-refreshing">ADR 09</a> - Questions refreshing</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Quality requirement</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Efficiency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access, creation of questions, and navigation between them should be fast to ensure user satisfaction.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application should be appealing to all fans of the original program while also offering a wide variety of questions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manteinance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application should ensure easy expansion and modification to provide users with new features.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Availability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Our goal is to achieve at least 95% availability, ensuring that the system is always available for users to play.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responsiveness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must be responsive, providing a good user experience for those in desktop and mobile environments.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Testability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must facilitate the testing process(creating test cases, executing tests, analyzing results&#8230;&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scalability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ability of a system to handle increasing workload or growing demands by adapting or expanding its capacity without compromising performance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interoperability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must have the ability of  seamlessly communicate, exchange data, and work together effectively with different systems, applications, or components, even if they use different technologies.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC8</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Identification</th>
<th class="tableblock halign-left valign-top">Scenario</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users expect the application to load quickly and respond promptly to their interactions, ensuring a smooth and efficient user experience.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application&#8217;s user interface is designed intuitively, allowing users to navigate effortlessly and find what they need without confusion or frustration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developers can easily add new features or modify existing ones without disrupting the overall functionality of the application, ensuring its long-term maintainability.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users rely on the application to be available whenever they want to play, and the system ensures a high level of uptime, minimizing downtime for maintenance or updates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether accessed from a desktop computer or a mobile device, users expect the application to adapt seamlessly to their screen size and input method, providing a consistent experience across platforms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The testing process is streamlined, allowing QA teams to efficiently create, execute, and analyze test cases, ensuring the reliability and stability of the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As user demand grows, the application scales its resources dynamically to accommodate increased traffic and maintain optimal performance levels, ensuring a consistent user experience.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SC8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The application seamlessly integrates with other systems, allowing for the exchange of data and functionality without compatibility issues, enhancing its overall interoperability.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Risk</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Migration to Java</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Migration from the current project language, JavaScript (JS), to Java</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IDE Configuration</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Version compatibility, extensions and other preferences to work perfectly without conflicts</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Database</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Discuss which database is best for the project</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Know how docker works, what it is for, how it is used and what its alternatives could be.</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Debt</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microservices</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Research about microservices and what they can contribute to the project</p>
</div></div></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WikiData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collaborative platform that provides structured data for Wikimedia projects, including Wikipedia.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Question</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Entity that encapsulates details of the trivia questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Answer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This entity contains the correct answer of the questions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Classifies questions into various topics, each question can only belong to one category.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Player</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents users and their interactions with the game</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GameSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintains the state of play, including scores and progress.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiKey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains each player&#8217;s apiKey for personal security and access control.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RestApiAccessLog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This entity is used to register the access to the application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the associations between entities. It has internal classes for each association.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-question-generation-strategy">13. Question Generation Strategy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The generation of questions in our application is handled through a combination of classes and interfaces, primarily QuestionGeneratorV2 and QuestionGeneratorService.</p>
</div>
<div class="sect2">
<h3 id="_question_templates">13.1. Question templates</h3>
<div class="paragraph">
<p>The two classes mentioned before use a JSON file that stores the question templates. These templates are used to generalize the question generation process. The JSON file is structured as follows:</p>
</div>
<div class="sect3">
<h4 id="_json_structure">13.1.1. JSON Structure</h4>
<div class="paragraph">
<p>The JSON has the following structure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>language_placeholder</code>, <code>question_placeholder</code>, and <code>answer_placeholder</code> are strings used as placeholders for the language, question, and answer, respectively.</p>
</li>
<li>
<p><code>categories</code> is an array containing objects representing different categories of questions.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each category object has two properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>name</code>: The name of the category.</p>
</li>
<li>
<p><code>questions</code>: An array of objects representing questions within that category.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each question object has the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>type</code>: The type of question.</p>
</li>
<li>
<p><code>statements</code>: An array of objects representing statements in different languages for the question. Each object has two properties: <code>language</code> and <code>statement</code>.</p>
</li>
<li>
<p><code>question</code>: The property queried to generate the question.</p>
</li>
<li>
<p><code>answer</code>: The property queried to obtain the answer.</p>
</li>
<li>
<p><code>sparqlQuery</code>: The SPARQL query used to retrieve data for generating the question and answer.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_compact_example_of_json_hierarchy">13.1.2. Compact Example of JSON Hierarchy</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "language_placeholder": "[LANGUAGE]",
  "question_placeholder": "[QUESTION]",
  "answer_placeholder": "[ANSWER]",
  "categories": [
    {
      "name": "Geography",
      "questions": [
        {
          "type": "capital",
          "statements": [
            {
              "language": "es",
              "statement": "Â¿CuÃ¡l es la capital de [QUESTION]?"
            },
            {
              "language": "en",
              "statement": "What is the capital of [QUESTION]?"
            },
            {
              "language": "fr",
              "statement": "Quelle est la capitale de [QUESTION]?"
            }
          ],
          "question": "countryLabel",
          "answer": "capitalLabel",
          "sparqlQuery": "..."
        },
        {
          "type": "currency",
          "statements": [
            {
              "language": "es",
              "statement": "Â¿CuÃ¡l es la moneda de [QUESTION]?"
            },
            {
              "language": "en",
              "statement": "What is the currency of [QUESTION]?"
            },
            {
              "language": "fr",
              "statement": "Quelle est la monnaie de [QUESTION]?"
            }
          ],
          "question": "countryLabel",
          "answer": "currencyLabel",
          "sparqlQuery": "..."
        }
      ]
    },
    {
      "name": "Science",
      "questions": [
        {
          "type": "element",
          "statements": [
            {
              "language": "es",
              "statement": "Â¿CuÃ¡l es el sÃ­mbolo quÃ­mico del [QUESTION]?"
            },
            {
              "language": "en",
              "statement": "What is the chemical symbol of [QUESTION]?"
            },
            {
              "language": "fr",
              "statement": "Quel est le symbole chimique du [QUESTION]?"
            }
          ],
          "question": "elementLabel",
          "answer": "symbol",
          "sparqlQuery": "..."
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_example_of_a_query">13.2. Example of a query</h3>
<div class="paragraph">
<p>Here&#8217;s an example of how you could use this JSON structure to query information:</p>
</div>
<div class="paragraph">
<p>To execute a query you just need to build a SPARQL query that retrieves the data you need. For example, to get the capital of a country, you could use the following query:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-SPARQL" data-lang="SPARQL">select distinct ?country ?countryLabel ?capital ?capitalLabel where {
  ?country wdt:P31 wd:Q6256 .
  ?capital wdt:P31 wd:Q5119 .
  ?country wdt:P36 ?capital .
  ?country rdfs:label ?countryLabel .
  ?capital rdfs:label ?capitalLabel .
  FILTER NOT EXISTS {?country wdt:P31 wd:Q3024240} .
  FILTER(LANG(?countryLabel)="es" &amp;&amp; LANG(?capitalLabel)="es")
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have a query the next step is to add it to thr JSON file. Following the previous example, you should start declaring a new object inside the <code>questions</code> array of the <code>Geography</code> category. You should fill the <code>type</code>, <code>statements</code>, <code>question</code>, <code>answer</code>, and <code>sparqlQuery</code> properties with the appropriate values. For the <code>type</code> field you could add the value <code>"capital"</code>, for the <code>statements</code> array you could add the statements in different languages also adding to them the placeholder that you used in the <code>question_placeholder</code> field. For the <code>question</code> field you should add the value <code>"countryLabel"</code>, for the <code>answer</code> you should add the value <code>"capitalLabel"</code>. For the <code>sparqlQuery</code> field you should replace in your original query every instance of <code>"countryLabel"</code> with the value of <code>question_placeholder</code> and <code>"capitalLabel"</code> with the value of <code>answer_placeholder</code>. The final object should look like the one showed in the JSON hierarchy example.</p>
</div>
<div class="paragraph">
<p>By following this approach, you can dynamically generate a wide variety of questions based on the structured data stored in your JSON file. This allows for flexibility and scalability in your question generation process.</p>
</div>
</div>
<div class="sect2">
<h3 id="_question_generation_process">13.3. Question Generation Process</h3>
<div class="paragraph">
<p>Once we have the JSON file with the question templates, we can start generating questions. Each time the application starts the QuestionGeneratorService class reads the JSON file and stores the question templates in memory. This way, the application can generate questions without needing to read the file each time. These templates are stored in a synchronized stack, which allows for thread-safe access to the templates. When the application starts after reading the JSON file and storing  the templates the QuestionGeneratorService class deletes all the questions that are stored in the database. After deleting the questions, the QuestionGeneratorService starts a cycle that generates all the questions in all the 3 main languages of the app for a specific type of question each two and a half minutes. This cycle is repeated until all the question types are generated. After this every 24 hours the cycle will start again with the parsing of the JSON, filling the Stack, emptying the database and generating the questions. All this process can be forced by an Admin user through the Admin panel in the app where an Admin can change the JSON (which will lead to the restart of the question generation process) or delete all questions.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-testing">14. Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To be able to achieve continuous delivery, we need to have a good test coverage. We need to have a good test coverage to be able to refactor the code without breaking it, to be able to deliver the software with confidence and to be able to deliver the software with quality.</p>
</div>
<div class="sect2">
<h3 id="_unit_test">14.1. Unit Test</h3>
<div class="paragraph">
<p>In our project, we have implemented unit tests for various components of the application. The tests are written in Java and use the JUnit 5 framework for testing. We also use the Spring Boot Test framework for testing Spring Boot applications, which provides utilities and annotations to test the application in a way that is very close to its actual runtime behavior.  The tests are located in the src/test/java/com/uniovi directory. The main test class is Wiq_UnitTests.java, which contains tests for various services and repositories in our application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_integration_test_e2e">14.2. Integration Test (E2E)</h3>

</div>
<div class="sect2">
<h3 id="_load_test">14.3. Load Test</h3>
<div class="paragraph">
<p>We have implemented load tests to evaluate the performance of our website under extreme situations. For this we use the "Gatling" application, which allows us to evaluate a set of web requests by simulating the number of users who make them simultaneously.
All tests have been carried out with a load of 1, 250, 1000, 2000 and 5000 users, for the following use cases: login, show profile, show apikey, play a game, show personal ranking, show the global ranking, change the language, return to the index and log out.</p>
</div>
<div class="sect3">
<h4 id="_test_results">14.3.1. Test results</h4>

</div>
<div class="sect3">
<h4 id="_login">14.3.2. Login</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/Login/1UserLogin.png" alt="Login1User"></span>
250 Users:
<span class="image"><img src="./images/Login/250UsersLogin.png" alt="Login250Users"></span>
1000 Users:
<span class="image"><img src="./images/Login/1000UsersLogin.png" alt="Login1000Users"></span>
2000 Users:
<span class="image"><img src="./images/Login/2000UsersLogin.png" alt="Login2000Users"></span>
5000 Users:
<span class="image"><img src="./images/Login/5000UsersLogin.png" alt="Login5000Users"></span>
General information: All responses to the server have generally worked correctly, except for the third response, which logs in using existing credentials. We don&#8217;t know exactly why this last request doesn&#8217;t work. If we analyze how the number of users affects the login, at first it does not generate any errors, but response times increase considerably, until reaching 5000 active users at the same time, then there is some error related to a timeout.
<span class="image"><img src="./images/Login/GeneralLogin.png" alt="GeneralLogin"></span>
<span class="image"><img src="./images/Login/GraphicLogin.png" alt="GraphicLogin"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_show_apikey">14.3.3. Show ApiKey</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/ShowApiKey/1UserApiKey.png" alt="ApiKey1User"></span>
250 Users:
<span class="image"><img src="./images/ShowApiKey/250UsersApiKey.png" alt="ApiKey250Users"></span>
1000 Users:
<span class="image"><img src="./images/ShowApiKey/1000UsersApiKey.png" alt="ApiKey1000Users"></span>
2000 Users:
<span class="image"><img src="./images/ShowApiKey/2000UsersApiKey.png" alt="ApiKey2000Users"></span>
5000 Users:
<span class="image"><img src="./images/ShowApiKey/5000UsersApiKey.png" alt="ApiKey5000Users"></span>
General information: For this use case, from the beginning all requests worked correctly. As the active users increased, the response time increased, but it was not until reaching 5,000 active users that the request failed, logically related to a timeout. In any case, the graph of the number of responses per second shows quite balanced, with only a large gap of erroneous requests.
<span class="image"><img src="./images/ShowApiKey/GeneralApiKey.png" alt="GeneralApiKey"></span>
<span class="image"><img src="./images/ShowApiKey/GraphicApiKey.png" alt="GraphicGraphic"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_show_profile">14.3.4. Show profile</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/ShowProfile/1UserProfile.png" alt="Profile1User"></span>
250 Users:
<span class="image"><img src="./images/ShowProfile/250UsersProfile.png" alt="Profile250Users"></span>
1000 Users:
<span class="image"><img src="./images/ShowProfile/1000UsersProfile.png" alt="Profile1000Users"></span>
2000 Users:
<span class="image"><img src="./images/ShowProfile/2000UsersProfile.png" alt="Profile2000Users"></span>
5000 Users:
<span class="image"><img src="./images/ShowProfile/5000UsersProfile.png" alt="Profile5000Users"></span>
General information: The results of the load tests carried out to show the player&#8217;s profile almost completely coincide with the results of showing the ApiKey, since in both tests two requests are made, which are supported very well by active users, up to 5000 users, where there are already some failed requests but in rare moments.
<span class="image"><img src="./images/ShowProfile/GeneralProfile.png" alt="GeneralProfile"></span>
<span class="image"><img src="./images/ShowProfile/GraphicProfile.png" alt="GraphicProfile"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_play_a_game">14.3.5. Play a game</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/PlayGame/1UserGame.png" alt="Game1User"></span>
250 Users:
<span class="image"><img src="./images/PlayGame/250UsersGame.png" alt="Game250Users"></span>
1000 Users:
<span class="image"><img src="./images/PlayGame/1000UsersGame.png" alt="Game1000Users"></span>
2000 Users:
<span class="image"><img src="./images/PlayGame/2000UsersGame.png" alt="Game2000Users"></span>
5000 Users:
<span class="image"><img src="./images/PlayGame/5000UsersGame.png" alt="Game5000Users"></span>
General information: The tests of playing the game were the most expensive loading test by far, since each of the users makes a total of 94 requests to the website, in which the vast majority of them are to update visual features of the game such as points, counter or time bar. These tests were so heavy that we had to modify the usability of the application on the host computer, because it ran out of resources when testing 1000 users. Surprisingly, the website supports up to 1000 active users simultaneously without causing any problems other than slightly high waiting times. But after 2,000 active users, failures increase exponentially. The graph of the 5000 users is shown below, where there is a peak in which there are 4193 active users and more than 5000 requests are being made, of which 3000 of them fail. In total, 280,000 requests are made, really heavy.
<span class="image"><img src="./images/PlayGame/GeneralGame.png" alt="GeneralProfile"></span>
<span class="image"><img src="./images/PlayGame/GraphicGame.png" alt="GraphicProfile"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_show_personal_ranking">14.3.6. Show personal ranking</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/PersonalRanking/1UserPR.png" alt="PR1User"></span>
250 Users:
<span class="image"><img src="./images/PersonalRanking/250UsersPR.png" alt="PR250Users"></span>
1000 Users:
<span class="image"><img src="./images/PersonalRanking/1000UsersPR.png" alt="PR1000Users"></span>
2000 Users:
<span class="image"><img src="./images/PersonalRanking/2000UsersPR.png" alt="PR2000Users"></span>
5000 Users:
<span class="image"><img src="./images/PersonalRanking/5000UsersPR.png" alt="PR5000Users"></span>
General information: For these tests we return a little to normal, compared to the previous tests that were excessively heavy. For these tests, access to the personal ranking and its successive pages was attempted. The results were very positive, with very low response times for up to 5000 users, in the latter case generating some failures that are not proportionally relevant.
<span class="image"><img src="./images/PersonalRanking/GeneralPR.png" alt="GeneralPR"></span>
<span class="image"><img src="./images/PersonalRanking/GraphicPR.png" alt="GraphicPR"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_show_global_ranking">14.3.7. Show global ranking</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/GlobalRanking/1UserGR.png" alt="GR1User"></span>
250 Users:
<span class="image"><img src="./images/GlobalRanking/250UsersGR.png" alt="GR250Users"></span>
1000 Users:
<span class="image"><img src="./images/GlobalRanking/1000UsersGR.png" alt="GR1000Users"></span>
2000 Users:
<span class="image"><img src="./images/GlobalRanking/2000UsersGR.png" alt="GR2000Users"></span>
5000 Users:
<span class="image"><img src="./images/GlobalRanking/5000UsersGR.png" alt="GR5000Users"></span>
General information: These tests are very similar to the previous ones, but instead of being the personal ranking it is the global one. However, the response times are very different, being much longer in the case of the global ranking. This is because not only do you have to calculate all the players who have a score, but also add their internal scores to know their position in the ranking, which entails a much greater burden, leading to errors related to timeout when there are 5000 users. Furthermore, the graph shows a rather curious peak of errors, in which 2000 simultaneous requests are made and 1900 are failed.
<span class="image"><img src="./images/GlobalRanking/GeneralGR.png" alt="GeneralGR"></span>
<span class="image"><img src="./images/GlobalRanking/GraphicGR.png" alt="GraphicGR"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_change_language">14.3.8. Change language</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/ChangeLanguage/1UserLanguage.png" alt="Language1User"></span>
250 Users:
<span class="image"><img src="./images/ChangeLanguage/250UsersLanguage.png" alt="Language250Users"></span>
1000 Users:
<span class="image"><img src="./images/ChangeLanguage/1000UsersLanguage.png" alt="Language1000Users"></span>
2000 Users:
<span class="image"><img src="./images/ChangeLanguage/2000UsersLanguage.png" alt="Language2000Users"></span>
5000 Users:
<span class="image"><img src="./images/ChangeLanguage/5000UsersLanguage.png" alt="Language5000Users"></span>
General information: The execution of these tests consisted of changing the language from the current one to English, then to French and finally to Spanish. Since it is an update of all the dialogues on the page, we assumed that it was going to cause more problems than the current ones. The tests showed considerably good response times even for the maximum number of users tested, in the latter case potentially generating some errors.
<span class="image"><img src="./images/ChangeLanguage/GeneralLanguage.png" alt="GeneralLanguage"></span>
<span class="image"><img src="./images/ChangeLanguage/GraphicLanguage.png" alt="GraphicLanguage"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_return_to_the_index">14.3.9. Return to the index</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/Index/1UserIndex.png" alt="Index1User"></span>
250 Users:
<span class="image"><img src="./images/Index/250UsersIndex.png" alt="Index250Users"></span>
1000 Users:
<span class="image"><img src="./images/Index/1000UsersIndex.png" alt="Index1000Users"></span>
2000 Users:
<span class="image"><img src="./images/Index/2000UsersIndex.png" alt="Index2000Users"></span>
5000 Users:
<span class="image"><img src="./images/Index/5000UsersIndex.png" alt="Index5000Users"></span>
General information: These results surprised us quite a bit, since we thought it was going to be the lightest action since it was only about loading the root directory of the website. However, the response times generated are much higher than expected, with half of the requests being longer than 1200ms for 1000 users, and for the maximum number of users, 9% of the requests failing.
<span class="image"><img src="./images/Index/GeneralIndex.png" alt="GeneralIndex"></span>
<span class="image"><img src="./images/Index/GraphicIndex.png" alt="GraphicIndex"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_log_out">14.3.10. Log out</h4>
<div class="paragraph">
<p>1 User:
<span class="image"><img src="./images/LogOut/1UserLogout.png" alt="Logout1User"></span>
250 Users:
<span class="image"><img src="./images/LogOut/250UsersLogout.png" alt="Logout250Users"></span>
1000 Users:
<span class="image"><img src="./images/LogOut/1000UsersLogout.png" alt="Logout1000Users"></span>
2000 Users:
<span class="image"><img src="./images/LogOut/2000UsersLogout.png" alt="Logout2000Users"></span>
5000 Users:
<span class="image"><img src="./images/LogOut/5000UsersLogout.png" alt="Logout5000Users"></span>
General information: Finally, tests were carried out to log out your user. These tests gave very positive results since, despite the fact that for many users there are high waiting times, no errors were caused due to a timeout. The only errors that you will see, now with the 5000 active users, have to do with the 'ClosedChannelException' exception, which is a verified exception in Java that occurs when trying to perform input/output operations on a channel that has been closed.
<span class="image"><img src="./images/LogOut/GeneralLogout.png" alt="GeneralLogout"></span>
<span class="image"><img src="./images/LogOut/GraphicLogout.png" alt="GraphicLogout"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_conclusion">14.3.11. Conclusion</h4>
<div class="paragraph">
<p>In conclusion, the tests generally show very positive results. In no test, except for the game, are there errors with up to 2000 users simultaneously, and errors begin to appear after 5000 users. Looking at the results, the lightest cases are showing the profile, showing the personal ranking and logging out. On the other hand, the hardest cases are playing the game (by far) and showing the global ranking. The tests of the 'multiplayer' game mode could not be carried out, because it was not yet fully implemented at the time of carrying out the load tests.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2<br>
Last updated 2024-04-27 23:30:29 UTC
</div>
</div>
</body>
</html>